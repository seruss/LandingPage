@* Flagship Project — Distributed Logging Platform *@
<section class="flagship reveal" id="projects">
    <div class="container">
        <h2 class="section-heading">
            <span class="section-heading-bar"></span>
            Flagship Project
        </h2>

        <div class="flagship-card">
            <div class="flagship-layout">
                @* Architecture Diagram *@
                <div class="flagship-diagram">
                    <div class="flagship-diagram-bg bg-grid-pattern"></div>
                    <div class="arch-diagram">
                        @* Client apps layer *@
                        <div class="arch-workers">
                            <div class="arch-worker">.NET App</div>
                            <div class="arch-worker">Python App</div>
                            <div class="arch-worker">Typescript App</div>
                        </div>

                        <div class="arch-split">
                            <div class="arch-split-center"></div>
                            <div class="arch-split-horizontal"></div>
                        </div>

                        @* Dual-protocol ingestion *@
                        <div class="arch-storage">
                            <div class="arch-store">
                                <span class="arch-store-label arch-store-label-redis">gRPC</span>
                                Streaming, Unary
                            </div>
                            <div class="arch-store">
                                <span class="arch-store-label arch-store-label-elastic">REST</span>
                                HTTP/1.1
                            </div>
                        </div>

                        <div class="arch-connector">
                            <div class="arch-connector-line"></div>
                        </div>

                        @* Core — the distributed monolith *@
                        <div style="display:flex;justify-content:center">
                            <div class="arch-node arch-node-ingest">
	                            API + Worker <br /><span>Distributed Monolith</span>
                            </div>
                        </div>

                        <div class="arch-split">
                            <div class="arch-split-center"></div>
                            <div class="arch-split-horizontal"></div>
                        </div>

                        @* Storage & coordination layer *@
                        <div class="arch-storage">
                            <div class="arch-store">
                                <span class="arch-store-label arch-store-label-elastic">ELASTIC</span>
                                Data Store
                            </div>
                            <div class="arch-store">
                                <span class="arch-store-label arch-store-label-redis">REDIS</span>
                                Coordination
                            </div>
                        </div>
                    </div>
                </div>

                @* Details *@
                <div class="flagship-details">
                    <div class="flagship-title-row">
                        <h3 class="flagship-title">Distributed Logging Platform</h3>
                        <span class="flagship-badge">Production</span>
                    </div>

                    <p class="flagship-desc">
                        Centralized logging system for .NET distributed applications, processing structured logs from 300+
                        microservices. Built as a distributed monolith with dual-protocol ingestion (gRPC + REST),
                        Elasticsearch storage, and Redis-coordinated multi-instance synchronization. Reduced
                        mean time to detect from hours to minutes. Later formalized as M.Sc. thesis.
                    </p>

                    <div class="flagship-stats">
                        <div>
                            <div class="stat-value" data-count="3">3TB+</div>
                            <div class="stat-label">Daily Logs</div>
                        </div>
                        <div>
                            <div class="stat-value" data-count="300">300+</div>
                            <div class="stat-label">Services</div>
                        </div>
                        <div>
                            <div class="stat-value">MTTD↓</div>
                            <div class="stat-label">Hours → Minutes</div>
                        </div>
                    </div>

                    <div class="tech-tags">
                        <span class="tech-tag tech-tag-primary">C# / .NET</span>
                        <span class="tech-tag">gRPC</span>
                        <span class="tech-tag">REST</span>
                        <span class="tech-tag">Elasticsearch</span>
                        <span class="tech-tag">Redis</span>
                        <span class="tech-tag">Kubernetes</span>
                    </div>

                    <details class="expandable">
                        <summary class="expandable-trigger">
                            <span class="material-icons expandable-icon">expand_more</span>
                            Technical deep dive
                        </summary>
                        <div class="expandable-body">
                            <div class="detail-grid">
                                <div class="detail-block">
                                    <h4 class="detail-block-title">Architecture</h4>
                                    <ul class="detail-list">
                                        <li>
                                            <strong>Distributed Monolith:</strong> Single API project containing controllers, gRPC services,
                                            queuing, and background tasks — horizontally scalable via Kubernetes replicas
                                        </li>
                                        <li>
                                            <strong>Dual-Protocol Ingestion:</strong> gRPC on :50051 (unary + duplex streaming) and
                                            REST on :5000, with standalone client libraries for both
                                        </li>
                                        <li>
                                            <strong>Storage &amp; Indexing:</strong> Elasticsearch with index lifecycle management, retention
                                            policies, and optimized mappings for TB-scale data
                                        </li>
                                        <li>
                                            <strong>Coordination:</strong> Redis for distributed locks, quota management, and
                                            multi-instance synchronization
                                        </li>
                                    </ul>
                                </div>
                                <div class="detail-block">
                                    <h4 class="detail-block-title">Technical Challenges Solved</h4>
                                    <ul class="detail-list">
                                        <li>
                                            <strong>Scale:</strong> TPL Dataflow pipelines (REST) and System.Threading.Channels (gRPC)
                                            with backpressure and retention-based queue routing
                                        </li>
                                        <li>
                                            <strong>Performance:</strong> gRPC streaming + MemoryPack/Protocol Buffers serialization
                                            for high-throughput ingestion with batching
                                        </li>
                                        <li>
                                            <strong>Reliability:</strong> In-memory queues with automatic disk-based fallback on connection loss,
                                            connection probe for recovery — zero log loss
                                        </li>
                                        <li><strong>Data Model:</strong> Unified log schema with field mapping and metadata standardization across 300+ services</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="detail-block" style="margin-top:1rem;">
                                <h4 class="detail-block-title">Business Value</h4>
                                <p class="detail-note">
                                    Centralized logging for the entire ecosystem. Reduced mean time to detect from <strong>hours to minutes</strong>.
                                    Single source of truth for debugging production issues, with alerting (watchers), application quotas, and
                                    Kibana dashboards.
                                    <strong>Master's thesis</strong> based on 2 years of real production data — a rare combination of academic rigor
                                    and production validation.
                                </p>
                            </div>
                        </div>
                    </details>
                </div>
            </div>
        </div>
    </div>
</section>
